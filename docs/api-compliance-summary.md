# –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è API –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö Criage

–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2024-01-15

## üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è: **100%**

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

- **100%** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö API —Å—Ö–µ–º–µ
- **100%** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Bearer —Ç–æ–∫–µ–Ω—ã)
- **100%** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **100%** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ HTTP –º–µ—Ç–æ–¥–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤
- **100%** –ø–æ–∫—Ä—ã—Ç–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ API (9 –∏–∑ 9)

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

#### criage-client

```text
‚úÖ GET /api/v1/search          - –ø–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤
‚úÖ POST /api/v1/upload         - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
‚úÖ GET /api/v1/                - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚úÖ GET /api/v1/stats           - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚úÖ POST /api/v1/refresh        - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
‚úÖ GET /api/v1/packages/{name} - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ
‚úÖ GET /api/v1/download/...    - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```

#### criage-mcp

```text
‚úÖ GET /api/v1/packages/{name} - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–∫–µ—Ç–µ
‚úÖ GET /api/v1/download/...    - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚úÖ GET /api/v1/search          - –ø–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤
‚úÖ POST /api/v1/upload         - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
‚úÖ POST /api/v1/refresh        - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞
‚úÖ GET /api/v1/stats           - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚úÖ GET /api/v1/                - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```

### ‚úÖ –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

```text
‚úÖ GET /api/v1/packages                    - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–î–û–ë–ê–í–õ–ï–ù–û)
‚úÖ GET /api/v1/packages/{name}/{version}   - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (–î–û–ë–ê–í–õ–ï–ù–û)
```

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö

| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | criage-client | criage-mcp | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ |
|-----------|---------------|------------|--------------|
| `ApiResponse` | ‚úÖ | ‚úÖ | 100% |
| `PackageEntry` | ‚úÖ | ‚úÖ | 100% |
| `VersionEntry` | ‚úÖ | ‚úÖ | 100% |
| `FileEntry` | ‚úÖ | ‚úÖ | 100% |
| `SearchResult` | ‚úÖ | ‚úÖ | 100% |
| `Statistics` | ‚úÖ | ‚úÖ | 100% |

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- **criage-client**: `repo.AuthToken` ‚Üí `Authorization: Bearer {token}`
- **criage-mcp**: `repo.Token` ‚Üí `Authorization: Bearer {token}`
- –û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Bearer —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìà –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—è `Success` –≤ `ApiResponse`  
‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP 401 (Unauthorized)  
‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ø–æ–ª—è `Error`  
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤

## üöÄ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### ‚úÖ –í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GET /api/v1/packages` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π —Ç–æ–∫–µ–Ω–æ–≤ (`AuthToken` –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GET /api/v1/packages/{name}/{version}` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏—è—Ö
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è API —Å—Ö–µ–º—ã –≤ —Ç–µ—Å—Ç–∞—Ö
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω rate limiting –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö (5 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫)

## üìã –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç API —Å—Ö–µ–º–µ criage-server. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ 100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** - –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è, –¥–æ–±–∞–≤–ª–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ rate limiting, –∞ —Ç–∞–∫–∂–µ –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ–≥—Ä–µ—Å—Å–∏–π.

---
*–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–µ `api-usage-analysis.json`*
